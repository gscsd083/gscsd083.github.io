(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-68db83c6"],{"20c5":function(t,e,n){"use strict";n("d57e")},"3c4e2":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container transport-task customer-list-box"},[n("el-card",{staticClass:"alert"},[n("el-form",{attrs:{inline:!0,model:t.formInline}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"员工账号:"}},[n("el-input",{attrs:{placeholder:"请输入员工账号"},model:{value:t.formInline.employeeNumber,callback:function(e){t.$set(t.formInline,"employeeNumber",e)},expression:"formInline.employeeNumber"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"员工姓名:"}},[n("el-input",{attrs:{placeholder:"请输入员工姓名"},model:{value:t.formInline.name,callback:function(e){t.$set(t.formInline,"name",e)},expression:"formInline.name"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"工作模式:"}},[n("el-select",{attrs:{placeholder:"请选择工作模式"},model:{value:t.formInline.workPatternId,callback:function(e){t.$set(t.formInline,"workPatternId",e)},expression:"formInline.workPatternId"}},t._l(t.value1,(function(t,e){return n("el-option",{key:e,attrs:{label:t.name,value:t.id}})})),1)],1)],1)],1),t._v(" "),n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"月份:"}},[n("el-date-picker",{attrs:{type:"month",clearable:!1,placeholder:"请选择月份"},model:{value:t.formInline.month,callback:function(e){t.$set(t.formInline,"month",e)},expression:"formInline.month"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"所属机构:",prop:"agencyId"}},[n("treeselect",{staticClass:"tree",attrs:{options:t.value2,searchable:!0,normalizer:t.normalizer,placeholder:"请选择所属机构","no-options-text":"暂无数据","no-results-text":"暂无数据"},model:{value:t.formInline.agencyId,callback:function(e){t.$set(t.formInline,"agencyId",e)},expression:"formInline.agencyId"}})],1)],1),t._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",[n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.onSubmit(1)}}},[t._v("搜索")]),t._v(" "),n("el-button",{staticClass:"reset-btn",attrs:{plain:""},on:{click:function(e){return t.onSubmit(2)}}},[t._v("重置")])],1)],1)],1)],1)],1),t._v(" "),n("el-card",{staticClass:"alert"},[n("div",[n("el-button",{attrs:{type:"warning"},on:{click:function(e){return t.$router.push("workArrange-setting")}}},[t._v("排班设置")]),t._v(" "),n("el-button",{staticClass:"reset-btn",attrs:{plain:""},on:{click:t.workBinding}},[t._v("绑定排班")])],1),t._v(" "),n("br"),t._v(" "),n("div",[[n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],ref:"multipleTable",staticStyle:{width:"100%"},attrs:{data:t.tableData,"tooltip-effect":"dark"},on:{"selection-change":t.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"55",fixed:""}}),t._v(" "),n("el-table-column",{attrs:{label:"员工账号",prop:"employeeNumber",width:"120",fixed:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"员工姓名",width:"120",fixed:""}}),t._v(" "),n("el-table-column",{attrs:{prop:"phone",label:"员工电话",width:"120",fixed:""}}),t._v(" "),n("el-table-column",{attrs:{label:"员工角色",width:"120",fixed:""},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.row;return[t._v("\n              "+t._s(1===n.userType?"员工":2===n.userType?"快递员":"司机")+"\n            ")]}}])}),t._v(" "),n("el-table-column",{attrs:{prop:"workPatternName",label:"当前工作模式",width:"120",fixed:""}}),t._v(" "),t._l(t.arr,(function(e,r){return n("el-table-column",{key:r,attrs:{prop:"workSchedules",label:e.num,"show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.row;return[n("div",{class:a.workSchedules[r]?"work":"rest"},[t._v("\n                "+t._s(a.workSchedules[r]?"上":"休")+"\n              ")])]}}],null,!0)})}))],2)]],2),t._v(" "),n("div",[n("el-pagination",{attrs:{"current-page":t.formInline.page,"page-sizes":[10,20,30,40,50],"page-size":t.formInline.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)]),t._v(" "),n("div",[n("el-dialog",{attrs:{visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e},close:t.close}},[n("div",{attrs:{slot:"title"},slot:"title"},[t._v("人工调整")]),t._v(" "),n("div",{staticStyle:{"margin-left":"35px"}},[n("el-radio",{attrs:{label:"1"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("礼拜制")]),t._v(" "),n("el-radio",{attrs:{label:"2"},model:{value:t.radio,callback:function(e){t.radio=e},expression:"radio"}},[t._v("连续制")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("div",[[n("span",[t._v("模式名称：")]),t._v(" "),n("el-select",{staticStyle:{width:"250px"},attrs:{placeholder:"请选择"},model:{value:t.editval,callback:function(e){t.editval=e},expression:"editval"}},t._l(t.options[t.radio],(function(t){return n("el-option",{key:t.id,attrs:{label:t.name,value:t.id}})})),1)]],2)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"warning"},on:{click:t.ensure}},[t._v("确 定")]),t._v(" "),n("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")])],1)])],1)],1)},a=[],i=(n("c5f6"),n("7f7f"),n("c7eb")),o=(n("96cf"),n("1da1")),c=n("7b11"),u=n("5850"),s=n("ca17"),l=n.n(s),f=(n("542c"),{components:{Treeselect:l.a},data:function(){return{arr:[{num:"1"},{num:"2"},{num:"3"},{num:"4"},{num:"5"},{num:"6"},{num:"7"},{num:"8"},{num:"9"},{num:"10"},{num:"11"},{num:"12"},{num:"13"},{num:"14"},{num:"15"},{num:"16"},{num:"17"},{num:"18"},{num:"19"},{num:"20"},{num:"21"},{num:"22"},{num:"23"},{num:"24"},{num:"25"},{num:"26"},{num:"27"},{num:"28"},{num:"29"},{num:"30"}],formInline:{agencyId:null,employeeNumber:"",month:"",name:"",page:1,pageSize:10,workPatternId:""},showTree:!1,tableData:[],total:0,loading:!1,value1:[],value2:[],selection:[],selectionval:"",dialogVisible:!1,editval:"",radio:"1",options:[]}},created:function(){this.getList()},methods:{ensure:function(){var t=Object(o["a"])(Object(i["a"])().mark((function t(){var e,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(this.editval){t.next=2;break}return t.abrupt("return",this.$message.error("请选模式名称"));case 2:return e="",n=this.selection.map((function(t){return e=t.userType,t.id})),t.next=6,Object(c["C"])({userIdList:n,userType:e,workPatternId:this.editval,workPatternType:this.radio});case 6:this.$message.success("操作成功"),this.getList(),this.close();case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),close:function(){this.dialogVisible=!1,this.editval="",this.radio="1"},workBinding:function(){if(0===this.selection.length)return this.$message.error("请选择调整人员");this.dialogVisible=!0},normalizer:function(t){return{id:t.id,label:t.name,children:t.children}},getList:function(){var t=Object(o["a"])(Object(i["a"])().mark((function t(){var e,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(c["U"])(this.formInline);case 3:e=t.sent,n=e.data,this.tableData=n.items,this.total=Number(n.counts),this.getTree(),this.loading=!1;case 9:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),getTree:function(){var t=Object(o["a"])(Object(i["a"])().mark((function t(){var e,n,r;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(c["D"])();case 2:return e=t.sent,n=e.data,t.next=6,Object(u["a"])();case 6:r=t.sent,this.options=n,this.value1=n[1].concat(n[2]),this.value2=JSON.parse(r.data);case 10:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),handleSelectionChange:function(t){this.selection=t},onSubmit:function(t){1===t?(this.formInline.page=1,this.getList()):(this.formInline={agencyId:null,employeeNumber:"",month:"",name:"",page:1,pageSize:10,workPatternId:""},this.getList())},handleSizeChange:function(t){this.formInline.pageSize=t,this.formInline.page=1,this.getList()},handleCurrentChange:function(t){this.formInline.page=t,this.getList()}}}),d=f,p=(n("20c5"),n("2877")),b=Object(p["a"])(d,r,a,!1,null,"2efd90ec",null);e["default"]=b.exports},5850:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return i})),n.d(e,"c",(function(){return o})),n.d(e,"d",(function(){return c}));var r=n("b775"),a=function(t){return Object(r["a"])("/business-hall/tree","get",t)},i=function(t){return Object(r["a"])("/business-hall/".concat(t),"get",t)},o=function(t){return Object(r["a"])("/business-hall/user/page","get",t)},c=function(t){return Object(r["a"])("/business-hall","post",t)}},"7b11":function(t,e,n){"use strict";n.d(e,"s",(function(){return a})),n.d(e,"B",(function(){return i})),n.d(e,"h",(function(){return o})),n.d(e,"a",(function(){return c})),n.d(e,"R",(function(){return u})),n.d(e,"f",(function(){return s})),n.d(e,"u",(function(){return l})),n.d(e,"n",(function(){return f})),n.d(e,"j",(function(){return d})),n.d(e,"i",(function(){return p})),n.d(e,"k",(function(){return b})),n.d(e,"l",(function(){return m})),n.d(e,"m",(function(){return g})),n.d(e,"o",(function(){return v})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return k})),n.d(e,"K",(function(){return j})),n.d(e,"M",(function(){return O})),n.d(e,"N",(function(){return w})),n.d(e,"Q",(function(){return _})),n.d(e,"P",(function(){return y})),n.d(e,"O",(function(){return I})),n.d(e,"L",(function(){return x})),n.d(e,"z",(function(){return L})),n.d(e,"w",(function(){return S})),n.d(e,"x",(function(){return T})),n.d(e,"y",(function(){return C})),n.d(e,"A",(function(){return z})),n.d(e,"e",(function(){return N})),n.d(e,"I",(function(){return $})),n.d(e,"F",(function(){return D})),n.d(e,"J",(function(){return P})),n.d(e,"H",(function(){return V})),n.d(e,"G",(function(){return J})),n.d(e,"q",(function(){return B})),n.d(e,"r",(function(){return U})),n.d(e,"p",(function(){return A})),n.d(e,"b",(function(){return E})),n.d(e,"S",(function(){return q})),n.d(e,"T",(function(){return F})),n.d(e,"D",(function(){return G})),n.d(e,"g",(function(){return H})),n.d(e,"U",(function(){return K})),n.d(e,"C",(function(){return M})),n.d(e,"v",(function(){return Q})),n.d(e,"t",(function(){return R})),n.d(e,"E",(function(){return W}));var r=n("b775"),a=function(t){return Object(r["a"])("/truckType/simple","get",t)},i=function(t){return Object(r["a"])("/truckType/page","get",t)},o=function(t){return Object(r["a"])("/truckType/".concat(t),"get",t)},c=function(t){return Object(r["a"])("/truckType","post",t)},u=function(t,e){return Object(r["a"])("/truckType/".concat(t),"put",e)},s=function(t){return Object(r["a"])("/truckType/".concat(t),"delete",t)},l=function(t){return Object(r["a"])("/bindingDrivers/".concat(t),"get",t)},f=function(t){return Object(r["a"])("/driver/page","get",t)},d=function(t){return Object(r["a"])("/driver/".concat(t),"get",t)},p=function(t,e){return Object(r["a"])("/web-manager/transfor-center/bussiness/driver/".concat(t),"put",e)},b=function(t,e){return Object(r["a"])("/driver/".concat(t),"put",e)},m=function(t){return Object(r["a"])("/driverLicense/".concat(t),"get",t)},g=function(t){return Object(r["a"])("/driverLicense","post",t)},v=function(t){return Object(r["a"])("/web-manager/transfor-center/bussiness/driver/".concat(t,"/truck"),"get",t)},h=function(t){return Object(r["a"])("/transportLine/trips/".concat(t.transportTripsId,"/truckDrivers"),"post",t)},k=function(t){return Object(r["a"])("/truck/truckDrivers","post",t)},j=function(t){return Object(r["a"])("/truck/page","get",t)},O=function(t){return Object(r["a"])("/truck","post",t)},w=function(t){return Object(r["a"])("/truck/".concat(t),"get",t)},_=function(t,e){return Object(r["a"])("/truck/".concat(t),"put",e)},y=function(t){return Object(r["a"])("/truck/".concat(t,"/license"),"get",t)},I=function(t,e){return Object(r["a"])("/truck/".concat(t,"/license"),"post",e)},x=function(t){return Object(r["a"])("/truck/".concat(t,"/transportTrips"),"get",t)},L=function(t){return Object(r["a"])("/transportLine/page","post",t)},S=function(t){return Object(r["a"])("/transportLine","post",t)},T=function(t){return Object(r["a"])("/transportLine/".concat(t),"delete",t)},C=function(t){return Object(r["a"])("/transportLine/".concat(t),"get",t)},z=function(t,e){return Object(r["a"])("/transportLine/".concat(t),"put",e)},N=function(t){return Object(r["a"])("/transportLine/trips/truckDrivers","get",t)},$=function(t){return Object(r["a"])("/transportLine/trips","get",t)},D=function(t){return Object(r["a"])("/transportLine/trips","post",t)},P=function(t,e){return Object(r["a"])("/transportLine/trips/".concat(t),"put",e)},V=function(t){return Object(r["a"])("/transportLine/trips/".concat(t),"get",t)},J=function(t){return Object(r["a"])("/transportLine/trips/".concat(t),"delete",t)},B=function(t){return Object(r["a"])("/carriages","get",t)},U=function(t){return Object(r["a"])("/carriages","post",t)},A=function(t){return Object(r["a"])("/carriages/".concat(t),"delete",t)},E=function(t){return Object(r["a"])("/work-patterns","post",t)},q=function(t){return Object(r["a"])("/work-patterns","put",t)},F=function(t){return Object(r["a"])("/work-patterns/page","get",t)},G=function(t){return Object(r["a"])("/work-patterns/all","get",t)},H=function(t){return Object(r["a"])("/work-patterns/".concat(t),"delete",t)},K=function(t){return Object(r["a"])("/work-schedulings","get",t)},M=function(t){return Object(r["a"])("/work-schedulings","put",t)},Q=function(t){return Object(r["a"])("/files/imageUpload","post",t)},R=function(t){return Object(r["a"])("/cost-configuration-manager","get",t)},W=function(t){return Object(r["a"])("/cost-configuration-manager","post",t)}},d57e:function(t,e,n){}}]);