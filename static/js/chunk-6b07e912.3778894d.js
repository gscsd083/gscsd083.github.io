(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6b07e912"],{"64d5":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard-container waybill-list customer-list-box"},[n("el-card",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"alert buttom"},[n("div",[n("el-button",{staticStyle:{width:"120px"},attrs:{type:"warning"},on:{click:t.addTransit}},[t._v("添加工作模式")]),t._v(" "),n("br"),t._v(" "),n("br"),t._v(" "),n("el-table",{staticStyle:{width:"100%"},attrs:{data:t.list,stripe:""}},[n("el-table-column",{attrs:{prop:"id",label:"工作模式编号","min-width":"200"}}),t._v(" "),n("el-table-column",{attrs:{prop:"name",label:"工作模式","min-width":"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"workPatternTypeDesc",label:"类型","min-width":"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"workDate",label:"工作日期","min-width":"120"}}),t._v(" "),n("el-table-column",{attrs:{prop:"allowableVolume",label:"工作时间","min-width":"120"},scopedSlots:t._u([{key:"default",fn:function(e){var r=e.row;return[n("span",[t._v("\n              "+t._s(((r.workEndMinute1-r.workStartMinute1)/60).toFixed(2))+"小时\n            ")])]}}])}),t._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"100"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.handleClick(e.row)}}},[t._v("编辑")]),t._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return t.delTransit(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),n("div",{staticStyle:{height:"70px","margin-top":"10px"}},[n("el-pagination",{attrs:{"current-page":t.pages.page,"page-sizes":[10,20,30,40,50],"page-size":t.pages.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:t.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)],1)]),t._v(" "),n("el-dialog",{attrs:{title:t.id?"编辑工作模式":"新增工作模式",visible:t.dialogFormVisible,width:"46%",center:"","close-on-click-modal":!1},on:{close:t.close}},[n("el-tabs",{model:{value:t.addEdit.workPatternType,callback:function(e){t.$set(t.addEdit,"workPatternType",e)},expression:"addEdit.workPatternType"}},[n("el-tab-pane",{attrs:{label:"礼拜制",name:"1"}},[n("el-form",{ref:"form1",attrs:{rules:t.rules,model:t.addEdit,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"工作模式名称:",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入工作模式名称"},model:{value:t.addEdit.name,callback:function(e){t.$set(t.addEdit,"name",e)},expression:"addEdit.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"连续工作天数"}},[n("el-checkbox-group",{model:{value:t.type,callback:function(e){t.type=e},expression:"type"}},[n("el-checkbox",{attrs:{label:"周一",name:"type"}}),t._v(" "),n("el-checkbox",{attrs:{label:"周二",name:"type"}}),t._v(" "),n("el-checkbox",{attrs:{label:"周三",name:"type"}}),t._v(" "),n("el-checkbox",{attrs:{label:"周四",name:"type"}}),t._v(" "),n("el-checkbox",{attrs:{label:"周五",name:"type"}}),t._v(" "),n("el-checkbox",{attrs:{label:"周六",name:"type"}}),t._v(" "),n("el-checkbox",{attrs:{label:"周日",name:"type"}})],1),t._v(" "),n("span",{staticStyle:{}},[t._v("选中为工作时间，未选中为休息时间")])],1),t._v(" "),n("el-form-item",{attrs:{label:"工作时间"}},[n("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1)],1),t._v(" "),n("el-tab-pane",{attrs:{label:"连续制",name:"2"}},[n("el-form",{ref:"form2",attrs:{model:t.addEdit2,rules:t.rules,"label-width":"120px"}},[n("el-form-item",{attrs:{label:"工作模式名称:",prop:"name"}},[n("el-input",{attrs:{placeholder:"请输入工作模式名称"},model:{value:t.addEdit2.name,callback:function(e){t.$set(t.addEdit2,"name",e)},expression:"addEdit2.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"连续工作天数:"}},[n("el-col",{attrs:{span:1}},[n("span",[t._v("上")])]),t._v(" "),n("el-col",{attrs:{span:1}},[n("div",[t._v(" ")])]),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.addEdit2.workDayNum,callback:function(e){t.$set(t.addEdit2,"workDayNum",e)},expression:"addEdit2.workDayNum"}})],1),t._v(" "),n("el-col",{attrs:{span:1}},[n("div",[t._v(" ")])]),t._v(" "),n("el-col",{attrs:{span:1}},[n("span",[t._v("休")])]),t._v(" "),n("el-col",{attrs:{span:6}},[n("el-input",{attrs:{placeholder:"请输入"},model:{value:t.addEdit2.restDayNum,callback:function(e){t.$set(t.addEdit2,"restDayNum",e)},expression:"addEdit2.restDayNum"}})],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"工作时间:"}},[n("el-time-picker",{attrs:{"is-range":"","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间",placeholder:"选择时间范围"},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1)],1)],1)],1),t._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:t.close}},[t._v("取 消")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.add}},[t._v("确 定")])],1)],1)],1)},a=[],i=n("c7eb"),c=(n("c5f6"),n("6762"),n("2fdb"),n("96cf"),n("1da1")),u=n("7b11"),o={data:function(){return{pages:{page:1,pageSize:10},dialogFormVisible:!1,id:"",total:0,loading:!1,list:[],type:[],time:[new Date(1970,1,1,9,0),new Date(1970,1,1,17,0)],addEdit2:{workDayNum:"",restDayNum:"",name:"",workPatternType:"1"},addEdit:{name:"",workPatternType:"1",workStartMinute1:null,workEndMinute1:null,monday:0,tuesday:0,wednesday:0,thursday:0,friday:0,saturday:0,sunday:0},rules:{name:[{required:!0,message:"请输入工作模式名称",trigger:"blur"}],time:[{required:!0,message:"请选择工作时间",trigger:"blur"}],type:[{required:!0,message:"请输入连续工作天数",trigger:"blur"}]}}},created:function(){this.getList()},methods:{add:function(){var t=this;this.$refs["form".concat(this.addEdit.workPatternType)].validate(function(){var e=Object(c["a"])(Object(i["a"])().mark((function e(n){return Object(i["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!n){e.next=25;break}if("1"===t.addEdit.workPatternType?(t.addEdit.workStartMinute1=t.time[0].getTime()/1e3/60,t.addEdit.workEndMinute1=t.time[1].getTime()/1e3/60,t.addEdit.monday=t.type.includes("星期一")?"1":"2",t.addEdit.tuesday=t.type.includes("星期二")?"1":"2",t.addEdit.wednesday=t.type.includes("星期三")?"1":"2",t.addEdit.thursday=t.type.includes("星期四")?"1":"2",t.addEdit.friday=t.type.includes("星期五")?"1":"2",t.addEdit.saturday=t.type.includes("星期六")?"1":"2",t.addEdit.sunday=t.type.includes("星期日")?"1":"2"):(t.addEdit2.workPatternType="2",t.addEdit2.workStartMinute1=t.time[0].getTime()/1e3/60,t.addEdit2.workEndMinute1=t.time[1].getTime()/1e3/60,t.addEdit2.workDayNum=Number(t.addEdit2.workDayNum),t.addEdit2.restDayNum=Number(t.addEdit2.restDayNum)),"1"!==t.addEdit.workPatternType){e.next=14;break}if(!t.addEdit.id){e.next=9;break}return e.next=6,Object(u["S"])(t.addEdit);case 6:t.$message.success("修改成功"),e.next=12;break;case 9:return e.next=11,Object(u["b"])(t.addEdit);case 11:t.$message.success("添加成功");case 12:e.next=23;break;case 14:if(!t.addEdit.id){e.next=20;break}return e.next=17,Object(u["S"])(t.addEdit2);case 17:t.$message.success("修改成功"),e.next=23;break;case 20:return e.next=22,Object(u["b"])(t.addEdit2);case 22:t.$message.success("添加成功");case 23:t.getList(),t.close();case 25:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},handleClick:function(t){this.addEdit=t,this.addEdit2=t,1===t.workPatternType?this.addEdit.workPatternType="1":this.addEdit.workPatternType="2",this.addTransit()},addTransit:function(){this.dialogFormVisible=!0},close:function(){this.addEdit={name:"",workPatternType:"1"},this.addEdit2={name:"",workPatternType:"1",workStartMinute1:null,workEndMinute1:null,monday:0,tuesday:0,wednesday:0,thursday:0,friday:0,saturday:0,sunday:0},this.$refs.form1.resetFields(),this.$refs.form2.resetFields(),this.dialogFormVisible=!1},getList:function(){var t=Object(c["a"])(Object(i["a"])().mark((function t(){var e,n;return Object(i["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:return this.loading=!0,t.next=3,Object(u["T"])(this.pages);case 3:e=t.sent,n=e.data,this.list=n.items,this.total=parseInt(n.counts),this.loading=!1;case 8:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}(),delTransit:function(t){var e=this;this.$confirm("确定删除该条记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(c["a"])(Object(i["a"])().mark((function n(){var r;return Object(i["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,Object(u["g"])(t);case 2:if(r=n.sent,"ok"!==r.msg){n.next=9;break}return e.$message.success("操作成功"),e.getList(),n.abrupt("return");case 9:return e.$message.error(r.msg),n.abrupt("return");case 11:case"end":return n.stop()}}),n)})))).catch((function(){e.$message("已取消")}))},handleSizeChange:function(t){this.pages.pageSize=t,this.pages.page=1,this.getList()},handleCurrentChange:function(t){this.pages.page=t,this.getList()}}},s=o,d=(n("a45d"),n("2877")),l=Object(d["a"])(s,r,a,!1,null,"0f081376",null);e["default"]=l.exports},"7b11":function(t,e,n){"use strict";n.d(e,"s",(function(){return a})),n.d(e,"B",(function(){return i})),n.d(e,"h",(function(){return c})),n.d(e,"a",(function(){return u})),n.d(e,"R",(function(){return o})),n.d(e,"f",(function(){return s})),n.d(e,"u",(function(){return d})),n.d(e,"n",(function(){return l})),n.d(e,"j",(function(){return p})),n.d(e,"i",(function(){return f})),n.d(e,"k",(function(){return b})),n.d(e,"l",(function(){return m})),n.d(e,"m",(function(){return g})),n.d(e,"o",(function(){return k})),n.d(e,"c",(function(){return h})),n.d(e,"d",(function(){return y})),n.d(e,"K",(function(){return v})),n.d(e,"M",(function(){return w})),n.d(e,"N",(function(){return j})),n.d(e,"Q",(function(){return O})),n.d(e,"P",(function(){return E})),n.d(e,"O",(function(){return x})),n.d(e,"L",(function(){return _})),n.d(e,"z",(function(){return T})),n.d(e,"w",(function(){return D})),n.d(e,"x",(function(){return L})),n.d(e,"y",(function(){return S})),n.d(e,"A",(function(){return $})),n.d(e,"e",(function(){return N})),n.d(e,"I",(function(){return P})),n.d(e,"F",(function(){return z})),n.d(e,"J",(function(){return C})),n.d(e,"H",(function(){return M})),n.d(e,"G",(function(){return F})),n.d(e,"q",(function(){return V})),n.d(e,"r",(function(){return q})),n.d(e,"p",(function(){return B})),n.d(e,"b",(function(){return I})),n.d(e,"S",(function(){return J})),n.d(e,"T",(function(){return U})),n.d(e,"D",(function(){return A})),n.d(e,"g",(function(){return G})),n.d(e,"U",(function(){return H})),n.d(e,"C",(function(){return K})),n.d(e,"v",(function(){return Q})),n.d(e,"t",(function(){return R})),n.d(e,"E",(function(){return W}));var r=n("b775"),a=function(t){return Object(r["a"])("/truckType/simple","get",t)},i=function(t){return Object(r["a"])("/truckType/page","get",t)},c=function(t){return Object(r["a"])("/truckType/".concat(t),"get",t)},u=function(t){return Object(r["a"])("/truckType","post",t)},o=function(t,e){return Object(r["a"])("/truckType/".concat(t),"put",e)},s=function(t){return Object(r["a"])("/truckType/".concat(t),"delete",t)},d=function(t){return Object(r["a"])("/bindingDrivers/".concat(t),"get",t)},l=function(t){return Object(r["a"])("/driver/page","get",t)},p=function(t){return Object(r["a"])("/driver/".concat(t),"get",t)},f=function(t,e){return Object(r["a"])("/web-manager/transfor-center/bussiness/driver/".concat(t),"put",e)},b=function(t,e){return Object(r["a"])("/driver/".concat(t),"put",e)},m=function(t){return Object(r["a"])("/driverLicense/".concat(t),"get",t)},g=function(t){return Object(r["a"])("/driverLicense","post",t)},k=function(t){return Object(r["a"])("/web-manager/transfor-center/bussiness/driver/".concat(t,"/truck"),"get",t)},h=function(t){return Object(r["a"])("/transportLine/trips/".concat(t.transportTripsId,"/truckDrivers"),"post",t)},y=function(t){return Object(r["a"])("/truck/truckDrivers","post",t)},v=function(t){return Object(r["a"])("/truck/page","get",t)},w=function(t){return Object(r["a"])("/truck","post",t)},j=function(t){return Object(r["a"])("/truck/".concat(t),"get",t)},O=function(t,e){return Object(r["a"])("/truck/".concat(t),"put",e)},E=function(t){return Object(r["a"])("/truck/".concat(t,"/license"),"get",t)},x=function(t,e){return Object(r["a"])("/truck/".concat(t,"/license"),"post",e)},_=function(t){return Object(r["a"])("/truck/".concat(t,"/transportTrips"),"get",t)},T=function(t){return Object(r["a"])("/transportLine/page","post",t)},D=function(t){return Object(r["a"])("/transportLine","post",t)},L=function(t){return Object(r["a"])("/transportLine/".concat(t),"delete",t)},S=function(t){return Object(r["a"])("/transportLine/".concat(t),"get",t)},$=function(t,e){return Object(r["a"])("/transportLine/".concat(t),"put",e)},N=function(t){return Object(r["a"])("/transportLine/trips/truckDrivers","get",t)},P=function(t){return Object(r["a"])("/transportLine/trips","get",t)},z=function(t){return Object(r["a"])("/transportLine/trips","post",t)},C=function(t,e){return Object(r["a"])("/transportLine/trips/".concat(t),"put",e)},M=function(t){return Object(r["a"])("/transportLine/trips/".concat(t),"get",t)},F=function(t){return Object(r["a"])("/transportLine/trips/".concat(t),"delete",t)},V=function(t){return Object(r["a"])("/carriages","get",t)},q=function(t){return Object(r["a"])("/carriages","post",t)},B=function(t){return Object(r["a"])("/carriages/".concat(t),"delete",t)},I=function(t){return Object(r["a"])("/work-patterns","post",t)},J=function(t){return Object(r["a"])("/work-patterns","put",t)},U=function(t){return Object(r["a"])("/work-patterns/page","get",t)},A=function(t){return Object(r["a"])("/work-patterns/all","get",t)},G=function(t){return Object(r["a"])("/work-patterns/".concat(t),"delete",t)},H=function(t){return Object(r["a"])("/work-schedulings","get",t)},K=function(t){return Object(r["a"])("/work-schedulings","put",t)},Q=function(t){return Object(r["a"])("/files/imageUpload","post",t)},R=function(t){return Object(r["a"])("/cost-configuration-manager","get",t)},W=function(t){return Object(r["a"])("/cost-configuration-manager","post",t)}},"7d4f":function(t,e,n){},a45d:function(t,e,n){"use strict";n("7d4f")}}]);