(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-37a05f2f"],{"161f":function(e,i,t){},2693:function(e,i,t){},4928:function(e,i,t){},"541c":function(e,i,t){"use strict";t.r(i);var r=function(){var e=this,i=e.$createElement,r=e._self._c||i;return r("el-container",{staticClass:"customer-details-box",class:e.isShowDriving?"read":"edit"},[r("el-card",{staticClass:"outCard",staticStyle:{width:"100%",height:"100%"},attrs:{shadow:"never"}},[r("div",{staticClass:"block"},[r("el-card",{staticClass:"form-box",attrs:{shadow:"never"}},[r("el-form",{ref:"vehiclesDriving",staticClass:"demo-ruleForm",attrs:{model:e.vehiclesDriving,rules:e.rules,"label-width":"110px"}},[r("el-row",{attrs:{gutter:24}},[r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"行驶证号码：",prop:"transportCertificateNumber"}},[r("el-input",{attrs:{disabled:e.disabledStr,maxlength:"20",placeholder:e.isShowDriving?"--":"请输入行驶证号码"},model:{value:e.vehiclesDriving.transportCertificateNumber,callback:function(i){e.$set(e.vehiclesDriving,"transportCertificateNumber",i)},expression:"vehiclesDriving.transportCertificateNumber"}})],1)],1),e._v(" "),r("el-col",{staticStyle:{"padding-left":"30px"},attrs:{span:8}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"发动机号码：",prop:"engineNumber","label-width":"100px"}},[r("el-input",{attrs:{disabled:e.disabledStr,maxlength:"20",placeholder:e.isShowDriving?"--":"请输入发动机号码"},model:{value:e.vehiclesDriving.engineNumber,callback:function(i){e.$set(e.vehiclesDriving,"engineNumber",i)},expression:"vehiclesDriving.engineNumber"}})],1)],1),e._v(" "),r("el-col",{staticStyle:{"padding-left":"30px"},attrs:{span:8}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"注册时间：",prop:"registrationDate","label-width":"95px"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",disabled:e.disabledStr,"value-format":"yyyy-MM-dd",placeholder:e.isShowDriving?"--":"请选择注册时间"},model:{value:e.vehiclesDriving.registrationDate,callback:function(i){e.$set(e.vehiclesDriving,"registrationDate",i)},expression:"vehiclesDriving.registrationDate"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"强制报废日期：",prop:"mandatoryScrap"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",disabled:e.disabledStr,"value-format":"yyyy-MM-dd",placeholder:e.isShowDriving?"--":"请选择强制报废日期"},model:{value:e.vehiclesDriving.mandatoryScrap,callback:function(i){e.$set(e.vehiclesDriving,"mandatoryScrap",i)},expression:"vehiclesDriving.mandatoryScrap"}})],1)],1),e._v(" "),r("el-col",{staticStyle:{"padding-left":"30px"},attrs:{span:8}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"整备质量：",prop:"overallQuality","label-width":"100px"}},[r("el-input",{attrs:{value:e.isShowDriving?e.vehiclesDriving.overallQuality+" 吨":e.vehiclesDriving.overallQuality,disabled:e.disabledStr,maxlength:"20",placeholder:e.isShowDriving?"--":"请输入整备质量"},model:{value:e.vehiclesDriving.overallQuality,callback:function(i){e.$set(e.vehiclesDriving,"overallQuality",i)},expression:"vehiclesDriving.overallQuality"}},[r("span",{staticStyle:{color:"#20232a","font-weight":"400","font-size":"14px","font-family":"PingFangSC, PingFangSC-Regular","margin-right":"14px"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("吨")])])],1)],1),e._v(" "),r("el-col",{staticStyle:{"padding-left":"30px"},attrs:{span:8}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"检验有效期：",prop:"expirationDate","label-width":"95px"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",disabled:e.disabledStr,"value-format":"yyyy-MM-dd",placeholder:e.isShowDriving?"--":"请选择检验有效期"},model:{value:e.vehiclesDriving.expirationDate,callback:function(i){e.$set(e.vehiclesDriving,"expirationDate",i)},expression:"vehiclesDriving.expirationDate"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"核定载质量：",prop:"allowableWeight"}},[r("el-input",{attrs:{value:e.isShowDriving?e.vehiclesDriving.allowableWeight+" 吨":e.vehiclesDriving.allowableWeight,disabled:e.disabledStr,maxlength:"20",placeholder:e.isShowDriving?"--":"请输入核定载质量"},model:{value:e.vehiclesDriving.allowableWeight,callback:function(i){e.$set(e.vehiclesDriving,"allowableWeight",i)},expression:"vehiclesDriving.allowableWeight"}},[r("span",{staticStyle:{color:"#20232a","font-weight":"400","font-size":"14px","font-family":"PingFangSC, PingFangSC-Regular","margin-right":"14px","line-height":"40px"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("吨")])])],1)],1),e._v(" "),r("el-col",{staticStyle:{"padding-left":"30px"},attrs:{span:8}},[r("el-form-item",{staticClass:"form-item",attrs:{label:"有效期：",prop:"validityPeriod","label-width":"100px"}},[r("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",disabled:e.disabledStr,"value-format":"yyyy-MM-dd",placeholder:e.isShowDriving?"--":"请选择行驶证有效期"},model:{value:e.vehiclesDriving.validityPeriod,callback:function(i){e.$set(e.vehiclesDriving,"validityPeriod",i)},expression:"vehiclesDriving.validityPeriod"}})],1)],1)],1)],1)],1),e._v(" "),r("div",{staticClass:"car-base car-img-base drive-base"},[r("span",{staticClass:"imgUpload-label",staticStyle:{"margin-right":"6px","margin-left":"12px"}},[e._v("图片信息")]),e._v(" "),r("el-card",{staticClass:"info-box",attrs:{shadow:"never"}},[r("div",{staticClass:"demo-input-suffix",staticStyle:{color:"#2a2929","font-size":"14px","padding-left":"6px"}},[e.disabledStr?r("div",{staticClass:"read-img"},[e.vehiclesDriving.picture.length?e._l(e.vehiclesDriving.picture,(function(i,a){return r("div",{key:a,staticClass:"img-box"},[r("img",{staticStyle:{width:"212px",height:"159px",border:"1px solid #D8DDE3","border-radius":"4px","margin-right":"20px"},attrs:{src:i.url}}),e._v(" "),r("div",{staticClass:"img-shadow"},[r("img",{staticClass:"el-upload-span searchBigImg",attrs:{src:t("3fdf")},on:{click:function(t){return t.stopPropagation(),e.searchBigImg(i)}}})])])})):r("img",{staticStyle:{width:"212px",height:"159px",border:"1px solid #D8DDE3","border-radius":"4px"},attrs:{src:t("57ec")}})],2):r("ImageUpload",{attrs:{"prop-image-url":e.vehiclesDriving.picture,disabled:e.disabledStr,"edit-type":e.disabledStr?"read":"edit","is-show-example-img":e.diasbledImg,"example-list":["https://yjy-slwl-oss.oss-cn-hangzhou.aliyuncs.com/086942c3-6c43-432d-80f1-64f53b424be9.png","https://yjy-slwl-oss.oss-cn-hangzhou.aliyuncs.com/4002ebba-8a62-4a5c-b64c-358189456eb6.png"]},on:{imageChange:e.imageChange}},[e._v("\n              注：图片大小不超过5M；仅能上传 PNG JPEG JPG类型图片；建议上传400*300尺寸的图片；最多上传2张\n            ")])],1)])],1)],1)]),e._v(" "),e.isShowDriving?r("div",{staticClass:"footer-box"},[r("el-button",{staticClass:"save-btn",attrs:{type:"warning"},on:{click:function(i){return e.handleEditVehicleDriving()}}},[e._v("编辑")])],1):r("div",{staticClass:"footer-box"},[r("el-button",{staticClass:"save-btn",attrs:{type:"warning"},on:{click:function(i){return e.handleSubVehicleDriving()}}},[e._v("保存")]),e._v(" "),r("el-button",{staticClass:"cancel-btn",attrs:{type:"warning",plain:""},on:{click:function(i){return e.handleCanVehicleDriving()}}},[e._v("取消")])],1),e._v(" "),r("el-dialog",{attrs:{visible:e.dialogVisible,width:"600px",height:"600px"},on:{"update:visible":function(i){e.dialogVisible=i}}},[r("img",{attrs:{width:"100%",src:e.imageUrl,alt:""}})])],1)},a=[],s=t("c7eb"),n=(t("28a5"),t("96cf"),t("1da1")),l=t("7b11"),c=t("a78e"),o=t.n(c),d=t("5aa9"),v={components:{ImageUpload:d["a"]},data:function(){return{imageUrl:"",dialogVisible:!1,diasbledImg:!0,headers:{Authorization:o.a.get("TOKEN")},vehicleLicenseData:{bizType:"vehicleLicense"},disabledAvatar:!0,disabledStr:!0,isShowDriving:!0,vehiclesDriving:{id:"",engineNumber:"",registrationDate:"",mandatoryScrap:"",overallQuality:"",expirationDate:"",allowableWeight:"",outsideDimensions:"",validityPeriod:"",transportCertificateNumber:"",picture:[]},rules:{registrationDate:[{required:!0,validator:function(e,i,t){i?t():t(new Error("注册时间不能为空"))},trigger:"change"}],mandatoryScrap:[{required:!0,validator:function(e,i,t){i?t():t(new Error("强制报废日期不能为空"))},trigger:"change"}],validityPeriod:[{required:!0,validator:function(e,i,t){i?t():t(new Error("有效期不能为空"))},trigger:"change"}],expirationDate:[{required:!0,validator:function(e,i,t){i?t():t(new Error("检验有效期不能为空"))},trigger:"change"}],engineNumber:[{required:!0,validator:function(e,i,t){if(i){var r=/^[0-9A-Za-z]{1,50}$/;r.test(i)?t():t(new Error("发动机号码输入有误，请重新输入"))}else t(new Error("发动机号码不能为空"))},trigger:"blur"}],overallQuality:[{required:!0,validator:function(e,i,t){if(i){var r=/^[0-9]+(.[0-9]{1,2})?$/;r.test(i)?t():t(new Error("请输入数字类型，只保留两位小数"))}else t(new Error("整备质量不能为空"))},trigger:"blur"}],allowableWeight:[{required:!0,validator:function(e,i,t){if(i){var r=/^[0-9]+(.[0-9]{1,2})?$/;r.test(i)?t():t(new Error("请输入数字类型，只保留两位小数"))}else t(new Error("核定载质量不能为空"))},trigger:"blur"}],transportCertificateNumber:[{required:!0,validator:function(e,i,t){if(i){var r=/^[0-9a-zA-Z]{1,50}$/;r.test(i)?t():t(new Error("行驶证号码输入有误，请重新输入"))}else t(new Error("行驶证号码不能为空"))},trigger:"blur"}]}}},created:function(){this.id="1575257934065905665",this.getList("1575257934065905665")},methods:{searchBigImg:function(e){this.imageUrl=e.url,this.dialogVisible=!0},upload:function(e){var i=this,t=new FormData;t.append("file",e.file),Object(l["v"])(t).then((function(e){i.vehiclesDriving.picture=e.data})).catch((function(){i.$message.error("上传失败")}))},imageChange:function(e){this.diasbledImg=!e.length,this.vehiclesDriving.picture=e},getList:function(){var e=Object(n["a"])(Object(s["a"])().mark((function e(i){var t,r;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(l["P"])(i);case 2:t=e.sent,r=t.data,this.vehiclesDriving.id=r.id,this.vehiclesDriving.engineNumber=r.engineNumber,this.vehiclesDriving.registrationDate=r.registrationDate,this.vehiclesDriving.mandatoryScrap=r.mandatoryScrap,this.vehiclesDriving.overallQuality=r.overallQuality,this.vehiclesDriving.expirationDate=r.expirationDate,this.vehiclesDriving.allowableWeight=r.allowableWeight,this.vehiclesDriving.outsideDimensions=r.outsideDimensions,this.vehiclesDriving.validityPeriod=r.validityPeriod,this.vehiclesDriving.picture=r.picture?r.picture.split(",").map((function(e){return{url:e}})):"",this.diasbledImg=!r.picture,this.vehiclesDriving.transportCertificateNumber=r.transportCertificateNumber;case 16:case"end":return e.stop()}}),e,this)})));function i(i){return e.apply(this,arguments)}return i}(),handleEditVehicleDriving:function(){var e=Object(n["a"])(Object(s["a"])().mark((function e(){return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.isShowDriving=!1,this.disabledStr=!1,this.disabledAvatar=!1;case 3:case"end":return e.stop()}}),e,this)})));function i(){return e.apply(this,arguments)}return i}(),handleSubVehicleDriving:function(){var e=Object(n["a"])(Object(s["a"])().mark((function e(){var i,t,r,a,c,o,d,v,u,g=this;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(i=this.vehiclesDriving,t=i.transportCertificateNumber,r=i.engineNumber,a=i.registrationDate,c=i.mandatoryScrap,o=i.overallQuality,d=i.expirationDate,v=i.allowableWeight,u=i.validityPeriod,t){e.next=5;break}return e.abrupt("return",this.$message.error("请填写行驶证号"));case 5:if(r){e.next=9;break}return e.abrupt("return",this.$message.error("请填写发动机号码"));case 9:if(a){e.next=13;break}return e.abrupt("return",this.$message.error("请填写注册时间"));case 13:if(c){e.next=17;break}return e.abrupt("return",this.$message.error("请填写强制报废日期"));case 17:if(o){e.next=21;break}return e.abrupt("return",this.$message.error("请填写整备质量"));case 21:if(d){e.next=25;break}return e.abrupt("return",this.$message.error("请填写检验有效期"));case 25:if(v){e.next=29;break}return e.abrupt("return",this.$message.error("请填写核定载质量"));case 29:if(u){e.next=31;break}return e.abrupt("return",this.$message.error("请填写有效期"));case 31:this.$refs["vehiclesDriving"].validate(function(){var e=Object(n["a"])(Object(s["a"])().mark((function e(i){var t;return Object(s["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(g.vehiclesDriving.picture.length<2)){e.next=2;break}return e.abrupt("return",g.$message.error("行驶证照片必须上传两张"));case 2:if(!i){e.next=6;break}return t={id:g.vehiclesDriving.id,engineNumber:g.vehiclesDriving.engineNumber,registrationDate:g.vehiclesDriving.registrationDate,mandatoryScrap:g.vehiclesDriving.mandatoryScrap,overallQuality:g.vehiclesDriving.overallQuality,expirationDate:g.vehiclesDriving.expirationDate,allowableWeight:g.vehiclesDriving.allowableWeight,outsideDimensions:g.vehiclesDriving.outsideDimensions,validityPeriod:g.vehiclesDriving.validityPeriod,transportCertificateNumber:g.vehiclesDriving.transportCertificateNumber,picture:g.vehiclesDriving.picture.map((function(e){return e.size?e.response.data:e.url})).join()},e.next=6,Object(l["O"])(g.id,t).then((function(e){"200"===String(e.code)&&(g.$message({message:"保存成功！",type:"success"}),g.isShowDriving=!0,g.disabledStr=!0,g.disabledAvatar=!0)}));case 6:case"end":return e.stop()}}),e)})));return function(i){return e.apply(this,arguments)}}());case 32:case"end":return e.stop()}}),e,this)})));function i(){return e.apply(this,arguments)}return i}(),handleCanVehicleDriving:function(){this.isShowDriving=!0,this.disabledStr=!0}}},u=v,g=(t("7de1"),t("2877")),h=Object(g["a"])(u,r,a,!1,null,"4e8c000a",null);i["default"]=h.exports},"7de1":function(e,i,t){"use strict";t("161f")},9331:function(e,i,t){"use strict";t.r(i);var r=function(){var e=this,i=e.$createElement,t=e._self._c||i;return t("div",{staticClass:"dashboard-container vehicle-detail"},[t("el-tabs",{staticStyle:{margin:"30px",padding:"30px","background-color":"white"},model:{value:e.activeName,callback:function(i){e.activeName=i},expression:"activeName"}},[t("el-tab-pane",{attrs:{label:"车辆基本信息",name:"first"}},[t("customer")],1),e._v(" "),t("el-tab-pane",{attrs:{label:"行驶证信息",name:"second"}},[t("drivingLincense")],1)],1)],1)},a=[],s=t("541c"),n=t("61f2"),l={components:{customer:s["default"],drivingLincense:n["default"]},data:function(){return{activeName:"first"}}},c=l,o=(t("c985"),t("ac38"),t("2877")),d=Object(o["a"])(c,r,a,!1,null,"84489cdc",null);i["default"]=d.exports},ac38:function(e,i,t){"use strict";t("2693")},c985:function(e,i,t){"use strict";t("4928")}}]);