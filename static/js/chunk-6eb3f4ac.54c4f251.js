(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6eb3f4ac"],{"2a95":function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("el-dialog",{attrs:{title:e.id?"编辑车型":"新增车型",visible:e.dialogFormVisible,width:"35%",center:"","close-on-click-modal":!1},on:{close:e.close,open:e.open}},[n("el-form",{ref:"ruleForm",attrs:{model:e.form,"label-position":"right",rules:e.rules}},[n("el-form-item",{attrs:{label:"车辆类型：","label-width":e.formLabelWidth,prop:"name"}},[n("el-input",{attrs:{autocomplete:"off",maxlength:"30"},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"应载重量：","label-width":e.formLabelWidth,prop:"allowableLoad"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.allowableLoad,callback:function(t){e.$set(e.form,"allowableLoad",e._n(t))},expression:"form.allowableLoad"}},[n("i",{staticStyle:{color:"#000","font-style":"normal"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("吨    ")])])],1),e._v(" "),n("el-form-item",{attrs:{label:"应载体积：","label-width":e.formLabelWidth,prop:"allowableVolume"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.allowableVolume,callback:function(t){e.$set(e.form,"allowableVolume",e._n(t))},expression:"form.allowableVolume"}},[n("i",{staticStyle:{color:"#000","font-style":"normal"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("立方    ")])])],1),e._v(" "),n("el-form-item",{attrs:{label:"长：","label-width":e.formLabelWidth,prop:"measureLong"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.measureLong,callback:function(t){e.$set(e.form,"measureLong",t)},expression:"form.measureLong"}},[n("i",{staticStyle:{color:"#000","font-style":"normal"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("米    ")])])],1),e._v(" "),n("el-form-item",{attrs:{label:"宽：","label-width":e.formLabelWidth,prop:"measureWidth"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.measureWidth,callback:function(t){e.$set(e.form,"measureWidth",t)},expression:"form.measureWidth"}},[n("i",{staticStyle:{color:"#000","font-style":"normal"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("米    ")])])],1),e._v(" "),n("el-form-item",{attrs:{label:"高：","label-width":e.formLabelWidth,prop:"measureHigh"}},[n("el-input",{attrs:{autocomplete:"off"},model:{value:e.form.measureHigh,callback:function(t){e.$set(e.form,"measureHigh",t)},expression:"form.measureHigh"}},[n("i",{staticStyle:{color:"#000","font-style":"normal"},attrs:{slot:"suffix"},slot:"suffix"},[e._v("米    ")])])],1)],1),e._v(" "),n("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{on:{click:e.close}},[e._v("取 消")]),e._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:e.add}},[e._v("确 定")])],1)],1)],1)},a=[],o=(n("7f7f"),n("c7eb")),i=(n("96cf"),n("1da1")),l=(n("c5f6"),n("7b11")),u={name:"CarModelsAdd",props:{dialogFormVisible:{type:Boolean,required:!0},id:{type:String,required:!0}},data:function(){var e=function(e,t,n){var r=Number(t);r>100?n(new Error("最多只能输入100，请重新输入")):isNaN(r)||r<0||r>100||!/^\d+(\.\d{1,2})?$/.test(t)?n(new Error("只能输入数字类型，最多保留两位小数，请重新输入")):n()};return{formLabelWidth:"120px",form:{allowableLoad:"",allowableVolume:"",measureHigh:"0.0",measureLong:"0.0",measureWidth:"0.0",name:""},rules:{name:[{required:!0,message:"车辆类型不能为空",trigger:"blur"}],allowableLoad:[{required:!0,message:"应载重量不能为空",trigger:"blur"},{pattern:/^([1-9]|[1-9]\d|100)$/,message:"只能输入1-100之间的正整数，请重新输入",trigger:"blur"}],allowableVolume:[{required:!0,message:"应载体积不能为空",trigger:"blur"},{pattern:/^([1-9]|[1-9]\d|100)$/,message:"只能输入1-100之间的正整数，请重新输入",trigger:"blur"}],measureLong:[{validator:e,trigger:"blur"}],measureWidth:[{validator:e,trigger:"blur"}],measureHigh:[{validator:e,trigger:"blur"}]}}},methods:{open:function(){var e=Object(i["a"])(Object(o["a"])().mark((function e(){var t,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.id){e.next=6;break}return e.next=3,Object(l["h"])(this.id);case 3:t=e.sent,n=t.data,this.form=n;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}(),close:function(){this.$emit("update-message",!1),this.form={allowableLoad:"",allowableVolume:"",measureHigh:"0.0",measureLong:"0.0",measureWidth:"0.0",name:""},this.$refs.ruleForm.resetFields()},add:function(){var e=this;this.$refs.ruleForm.validate(function(){var t=Object(i["a"])(Object(o["a"])().mark((function t(n){var r,a,i,u,c,s,f,m,d;return Object(o["a"])().wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!n){t.next=19;break}if(r=e.form,a=r.allowableLoad,i=r.allowableVolume,u=r.measureHigh,c=r.measureLong,s=r.measureWidth,f=r.name,m={allowableLoad:Number(a),allowableVolume:Number(i),measureHigh:Number(u),measureLong:Number(c),measureWidth:Number(s),name:f},!e.id){t.next=9;break}return t.next=6,Object(l["R"])(e.id,m);case 6:e.$message.success("修改成功"),t.next=17;break;case 9:return t.next=11,Object(l["a"])(m);case 11:if(d=t.sent,200!==d.code){t.next=16;break}e.$message.success("添加成功"),t.next=17;break;case 16:return t.abrupt("return",e.$message.error(d.msg));case 17:e.close(),e.$emit("get-list");case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}}},c=u,s=n("2877"),f=Object(s["a"])(c,r,a,!1,null,null,null);t["default"]=f.exports},5853:function(e,t,n){"use strict";n("b62e")},"7b11":function(e,t,n){"use strict";n.d(t,"s",(function(){return a})),n.d(t,"B",(function(){return o})),n.d(t,"h",(function(){return i})),n.d(t,"a",(function(){return l})),n.d(t,"R",(function(){return u})),n.d(t,"f",(function(){return c})),n.d(t,"u",(function(){return s})),n.d(t,"n",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"i",(function(){return d})),n.d(t,"k",(function(){return b})),n.d(t,"l",(function(){return p})),n.d(t,"m",(function(){return g})),n.d(t,"o",(function(){return h})),n.d(t,"c",(function(){return v})),n.d(t,"d",(function(){return w})),n.d(t,"K",(function(){return L})),n.d(t,"M",(function(){return _})),n.d(t,"N",(function(){return j})),n.d(t,"Q",(function(){return O})),n.d(t,"P",(function(){return k})),n.d(t,"O",(function(){return x})),n.d(t,"L",(function(){return E})),n.d(t,"z",(function(){return V})),n.d(t,"w",(function(){return y})),n.d(t,"x",(function(){return I})),n.d(t,"y",(function(){return $})),n.d(t,"A",(function(){return N})),n.d(t,"e",(function(){return A})),n.d(t,"I",(function(){return R})),n.d(t,"F",(function(){return S})),n.d(t,"J",(function(){return C})),n.d(t,"H",(function(){return G})),n.d(t,"G",(function(){return W})),n.d(t,"q",(function(){return T})),n.d(t,"r",(function(){return z})),n.d(t,"p",(function(){return F})),n.d(t,"b",(function(){return H})),n.d(t,"S",(function(){return q})),n.d(t,"T",(function(){return M})),n.d(t,"D",(function(){return B})),n.d(t,"g",(function(){return D})),n.d(t,"U",(function(){return J})),n.d(t,"C",(function(){return U})),n.d(t,"v",(function(){return K})),n.d(t,"t",(function(){return P})),n.d(t,"E",(function(){return Q}));var r=n("b775"),a=function(e){return Object(r["a"])("/truckType/simple","get",e)},o=function(e){return Object(r["a"])("/truckType/page","get",e)},i=function(e){return Object(r["a"])("/truckType/".concat(e),"get",e)},l=function(e){return Object(r["a"])("/truckType","post",e)},u=function(e,t){return Object(r["a"])("/truckType/".concat(e),"put",t)},c=function(e){return Object(r["a"])("/truckType/".concat(e),"delete",e)},s=function(e){return Object(r["a"])("/bindingDrivers/".concat(e),"get",e)},f=function(e){return Object(r["a"])("/driver/page","get",e)},m=function(e){return Object(r["a"])("/driver/".concat(e),"get",e)},d=function(e,t){return Object(r["a"])("/web-manager/transfor-center/bussiness/driver/".concat(e),"put",t)},b=function(e,t){return Object(r["a"])("/driver/".concat(e),"put",t)},p=function(e){return Object(r["a"])("/driverLicense/".concat(e),"get",e)},g=function(e){return Object(r["a"])("/driverLicense","post",e)},h=function(e){return Object(r["a"])("/web-manager/transfor-center/bussiness/driver/".concat(e,"/truck"),"get",e)},v=function(e){return Object(r["a"])("/transportLine/trips/".concat(e.transportTripsId,"/truckDrivers"),"post",e)},w=function(e){return Object(r["a"])("/truck/truckDrivers","post",e)},L=function(e){return Object(r["a"])("/truck/page","get",e)},_=function(e){return Object(r["a"])("/truck","post",e)},j=function(e){return Object(r["a"])("/truck/".concat(e),"get",e)},O=function(e,t){return Object(r["a"])("/truck/".concat(e),"put",t)},k=function(e){return Object(r["a"])("/truck/".concat(e,"/license"),"get",e)},x=function(e,t){return Object(r["a"])("/truck/".concat(e,"/license"),"post",t)},E=function(e){return Object(r["a"])("/truck/".concat(e,"/transportTrips"),"get",e)},V=function(e){return Object(r["a"])("/transportLine/page","post",e)},y=function(e){return Object(r["a"])("/transportLine","post",e)},I=function(e){return Object(r["a"])("/transportLine/".concat(e),"delete",e)},$=function(e){return Object(r["a"])("/transportLine/".concat(e),"get",e)},N=function(e,t){return Object(r["a"])("/transportLine/".concat(e),"put",t)},A=function(e){return Object(r["a"])("/transportLine/trips/truckDrivers","get",e)},R=function(e){return Object(r["a"])("/transportLine/trips","get",e)},S=function(e){return Object(r["a"])("/transportLine/trips","post",e)},C=function(e,t){return Object(r["a"])("/transportLine/trips/".concat(e),"put",t)},G=function(e){return Object(r["a"])("/transportLine/trips/".concat(e),"get",e)},W=function(e){return Object(r["a"])("/transportLine/trips/".concat(e),"delete",e)},T=function(e){return Object(r["a"])("/carriages","get",e)},z=function(e){return Object(r["a"])("/carriages","post",e)},F=function(e){return Object(r["a"])("/carriages/".concat(e),"delete",e)},H=function(e){return Object(r["a"])("/work-patterns","post",e)},q=function(e){return Object(r["a"])("/work-patterns","put",e)},M=function(e){return Object(r["a"])("/work-patterns/page","get",e)},B=function(e){return Object(r["a"])("/work-patterns/all","get",e)},D=function(e){return Object(r["a"])("/work-patterns/".concat(e),"delete",e)},J=function(e){return Object(r["a"])("/work-schedulings","get",e)},U=function(e){return Object(r["a"])("/work-schedulings","put",e)},K=function(e){return Object(r["a"])("/files/imageUpload","post",e)},P=function(e){return Object(r["a"])("/cost-configuration-manager","get",e)},Q=function(e){return Object(r["a"])("/cost-configuration-manager","post",e)}},b62e:function(e,t,n){},ce36:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dashboard-container car-models customer-list-box"},[n("el-card",{staticClass:"alert"},[n("el-form",{attrs:{inline:!0,model:e.formInline}},[n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"车型编号:"}},[n("el-input",{attrs:{placeholder:"请输入车型编号"},model:{value:e.formInline.id,callback:function(t){e.$set(e.formInline,"id",t)},expression:"formInline.id"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"应载重量:"}},[n("el-select",{attrs:{placeholder:"请选择应载重量"},model:{value:e.formInline.allowableLoad,callback:function(t){e.$set(e.formInline,"allowableLoad",t)},expression:"formInline.allowableLoad"}},e._l(e.value1,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"应载体积:"}},[n("el-select",{attrs:{placeholder:"请选择应载体积"},model:{value:e.formInline.allowableVolume,callback:function(t){e.$set(e.formInline,"allowableVolume",t)},expression:"formInline.allowableVolume"}},e._l(e.value2,(function(e,t){return n("el-option",{key:t,attrs:{label:e.name,value:e.value}})})),1)],1)],1)],1),e._v(" "),n("el-row",{attrs:{gutter:10}},[n("el-col",{attrs:{span:8}},[n("el-form-item",{attrs:{label:"车型类型:"}},[n("el-input",{attrs:{placeholder:"请输入车辆类型"},model:{value:e.formInline.name,callback:function(t){e.$set(e.formInline,"name",t)},expression:"formInline.name"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("el-form-item",[n("el-button",{attrs:{type:"warning"},on:{click:function(t){return e.onSubmit(1)}}},[e._v("查询")]),e._v(" "),n("el-button",{staticClass:"reset-btn",attrs:{plain:""},on:{click:function(t){return e.onSubmit(2)}}},[e._v("重置")])],1)],1)],1)],1)],1),e._v(" "),n("el-card",{staticClass:"alert buttom"},[n("div",[n("el-button",{attrs:{type:"warning"},on:{click:e.addTransit}},[e._v("新增车型")]),e._v(" "),n("br"),e._v(" "),n("br"),e._v(" "),n("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{data:e.list,stripe:""}},[n("el-table-column",{attrs:{fixed:"",type:"index",index:e.indexMethod,label:"序号",width:"100"}}),e._v(" "),n("el-table-column",{attrs:{prop:"id",label:"车型编号","min-width":"200"}}),e._v(" "),n("el-table-column",{attrs:{prop:"name",label:"车辆类型","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"num",label:"车型数量","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"allowableLoad",label:"应载重量（吨）","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"allowableVolume",label:"应载体积","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"measureLong",label:"长","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"measureWidth",label:"宽","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{prop:"measureHigh",label:"高","min-width":"120"}}),e._v(" "),n("el-table-column",{attrs:{fixed:"right",label:"操作","min-width":"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.handleClick(t.row)}}},[e._v("编辑")]),e._v(" "),n("el-button",{attrs:{type:"text",size:"small"},on:{click:function(n){return e.delTransit(t.row)}}},[e._v("删除")])]}}])})],1),e._v(" "),n("div",[n("el-pagination",{attrs:{"current-page":e.formInline.page,"page-sizes":[10,20,30,40,50],"page-size":e.formInline.pagesize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)]),e._v(" "),n("CarModelsAdd",{attrs:{id:e.id,"dialog-form-visible":e.dialogFormVisible},on:{"update-message":e.close,"get-list":e.getList}})],1)},a=[],o=n("c7eb"),i=(n("96cf"),n("1da1")),l=n("7b11"),u=n("2a95"),c={components:{CarModelsAdd:u["default"]},data:function(){return{formInline:{id:"",allowableLoad:"",allowableVolume:"",name:"",page:1,pageSize:10},total:0,loading:!1,list:[],dialogFormVisible:!1,id:"",value1:[{value:"RANGE_LEVEL_1",name:"<1.8（吨）"},{value:"RANGE_LEVEL_2",name:"1.8-6（吨）"},{value:"RANGE_LEVEL_3",name:"6-14（吨）"},{value:"RANGE_LEVEL_4",name:"14-30（吨）"},{value:"RANGE_LEVEL_5",name:"30-50（吨）"},{value:"RANGE_LEVEL_6",name:"50-100（吨）"},{value:"RANGE_LEVEL_7",name:"100>（吨）"}],value2:[{value:"RANGE_LEVEL_1",name:"<3（m³）"},{value:"RANGE_LEVEL_2",name:"3-5（m³）"},{value:"RANGE_LEVEL_3",name:"5-10（m³）"},{value:"RANGE_LEVEL_4",name:"10-15（m³）"},{value:"RANGE_LEVEL_5",name:"15-30（m³）"},{value:"RANGE_LEVEL_6",name:"30-50（m³）"},{value:"RANGE_LEVEL_7",name:"50-80（m³）"},{value:"RANGE_LEVEL_8",name:"80-150（m³）"},{value:"RANGE_LEVEL_9",name:"150>（m³）"}]}},created:function(){this.getList()},methods:{onSubmit:function(e){if(!/^\d+$/.test(this.formInline.id)&&""!==this.formInline.id)return this.$message.error("车型编号格式不正确，请重新输入");1===e||(this.formInline={id:"",allowableLoad:"",allowableVolume:"",name:"",page:1,pageSize:10}),this.getList()},handleClick:function(e){this.id=e.id,this.addTransit()},addTransit:function(){this.dialogFormVisible=!0},close:function(){this.dialogFormVisible=!1,this.id=""},delTransit:function(e){var t=this;this.$confirm("确定删除该条记录吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(Object(i["a"])(Object(o["a"])().mark((function n(){var r;return Object(o["a"])().wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(!e.num){n.next=3;break}return t.$message.error("绑定车辆的车型无法删除"),n.abrupt("return");case 3:return n.next=5,Object(l["f"])(e.id);case 5:r=n.sent,"ok"===r.msg?(t.$message.success("操作成功"),t.getList()):t.$message.error(r.msg);case 7:case"end":return n.stop()}}),n)}))))},indexMethod:function(e){return(this.formInline.page-1)*this.formInline.pageSize+e+1},handleSizeChange:function(e){this.formInline.pageSize=e,this.formInline.page=1,this.getList()},handleCurrentChange:function(e){this.formInline.page=e,this.getList()},getList:function(){var e=Object(i["a"])(Object(o["a"])().mark((function e(){var t,n;return Object(o["a"])().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,Object(l["B"])(this.formInline);case 3:t=e.sent,n=t.data,this.list=n.items,this.total=parseInt(n.counts),this.loading=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()}},s=c,f=(n("5853"),n("2877")),m=Object(f["a"])(s,r,a,!1,null,"dbcde230",null);t["default"]=m.exports}}]);